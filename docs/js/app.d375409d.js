(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,v=[];d<o.length;d++)i=o[d],n[i]&&v.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(v.length)v.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;s.push([2,"chunk-vendors"]),a()})({0:function(e,t){},1:function(e,t){},2:function(e,t,a){e.exports=a("56d7")},"2e7a":function(e,t,a){},3607:function(e,t,a){"use strict";var r=a("979f"),n=a.n(r);n.a},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return a(t)}function s(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var r=a("2b0e"),n=a("ce5b"),s=a.n(n);a("bf40");r["default"].use(s.a,{});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    Logout.\n  ")]),a("v-navigation-drawer",{attrs:{"clipped-left":"",fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",[a("v-list-tile",{attrs:{to:"/"}},[a("v-list-tile-title",{staticClass:"title"},[e._v("\n          "+e._s(e.title)+"\n        ")])],1),a("v-list-tile",{attrs:{to:"/about"}},[a("v-list-tile-action",[a("v-icon",[e._v("bubble_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("About")])],1)],1),a("v-list-tile",{attrs:{href:"https://drive.google.com/open?id=1wYVNufrfiVAWUkYTVdGl0Q0PqrhkHZBo",target:"_blank"}},[a("v-list-tile-action",[a("v-icon",[e._v("get_app")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Download API")])],1)],1),a("v-list-tile",{attrs:{to:"/privacy"}},[a("v-list-tile-action",[a("v-icon",[e._v("lock")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("PrivacyPolicy")])],1)],1),a("v-divider"),a("v-subheader",[e._v("Contest")]),a("v-list-tile",{attrs:{to:"/viewer/contest-latest"}},[a("v-list-tile-action",[a("v-icon",[e._v("queue_music")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Contest List")])],1)],1),e.signedIn?a("v-list-tile",{attrs:{to:"/viewer/contest-create"}},[a("v-list-tile-action",[a("v-icon",[e._v("playlist_add")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Create Contest")])],1)],1):e._e(),a("v-divider"),a("v-subheader",[e._v("Latest 100 played")]),e._l(e.played,function(t,r){return a("v-list-tile",{key:r,attrs:{to:"/viewer/latest/"+t.key}},[a("v-list-tile-action",[a("v-icon",[e._v("library_music")])],1),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{textContent:e._s(t.title)}})],1)],1)}),a("v-list-tile",{attrs:{to:"/viewer/cource-latest/"}},[a("v-list-tile-action",[a("v-icon",[e._v("library_music")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Cource")])],1)],1)],2)],1),a("v-toolbar",{attrs:{app:""}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-spacer"),a("v-toolbar-items",[e.signedIn?e._e():a("v-btn",{attrs:{flat:""},on:{click:e.onSignUpOpen}},[a("v-icon",[e._v("person_add")]),e._v("Sign Up")],1),e.signedIn?e._e():a("v-btn",{attrs:{flat:""},on:{click:e.onLoginOpen}},[a("v-icon",[e._v("computer")]),e._v("Login")],1),e.signedIn?a("v-btn",{attrs:{flat:""},on:{click:e.logout}},[a("v-icon",[e._v("exit_to_app")]),e._v("Logout")],1):e._e(),e.signedIn?a("v-btn",{attrs:{flat:""},on:{click:e.onSettingPage}},[a("v-icon",[e._v("settings")]),e._v("Setting")],1):e._e()],1)],1),a("SignUp",{ref:"SignUp"}),a("Login",{ref:"Login"}),a("v-content",[a("router-view",{attrs:{signedIn:e.signedIn}})],1)],1)},o=[],l=a("a34a"),c=a.n(l),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Input New Account Data")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("Verify Account")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Sign Up")])]),a("v-card-text",[a("small",[e._v("Please fill in this form to create an account.")]),a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-alert",{attrs:{value:e.errorMessage,type:"error"}},[e._v("\n                          "+e._s(e.errorMessage)+"\n                          ")])],1),a("v-flex",{attrs:{xs12:""}},[a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.progress,expression:"progress"}],attrs:{indeterminate:!0}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"IR UserName(Japanese OK)"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:"E-mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"append-icon":e.show1?"visibility_off":"visibility",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},nativeOn:{click:function(t){return e.cancel()}}},[e._v("Close")]),a("v-btn",{attrs:{color:"primary",flat:"",disabled:!e.validate()},nativeOn:{click:function(t){return e.signUp()}}},[e._v("Continue")])],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Sign Up")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("p",[e._v("Please click the link of authentication mail, please complete registration.")]),a("hr"),a("p",[e._v("認証メールを確認し、登録を完了させてください。")])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},nativeOn:{click:function(t){return e.cancel()}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)},d=[],v=a("4a9d"),f=a.n(v),h=a("971e"),g={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,e1:1,options:{color:"primary",width:400},username:"",email:"",password:"",errorMessage:null,show1:!1,progress:!1,rules:{required:function(e){return!!e||"Required."},counter:function(e){return e.length<=20||"Max 20 characters"},min:function(e){return e.length>=8||"Min 8 characters"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail."}}}},methods:{validate:function(){return 1==this.rules.required(this.email)&&1==this.rules.required(this.password)&&1==this.rules.required(this.username)&&1==this.rules.min(this.password)&&1==this.rules.email(this.email)},signUp:function(){this.progress=!0,this.errorMessage=null;var e=this.username,t=this.email,a=this.password,r=h.get("sign_up").split(",");f.a.config.update({accessKeyId:r[0],secretAccessKey:r[1]}),f.a.config.region="us-east-1";var n=new f.a.Lambda,s={FunctionName:"sign_up",Payload:JSON.stringify({username:e,email:t,password:a})},i=this;n.invoke(s,function(e,t){if(i.progress=!1,e)i.errorMessage=JSON.stringify(e,void 0,1);else if("true"!=t.Payload){var a=JSON.parse(t.Payload.toString());if(a.errorMessage)return void(i.errorMessage=JSON.stringify(a.errorMessage,void 0,1))}else i.e1=2})},open:function(){var e=this;return this.dialog=!0,new Promise(function(t,a){e.resolve=t,e.reject=a})},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.clearForm(),this.dialog=!1},clearForm:function(){this.email="",this.password="",this.username="",this.e1=1,this.errorMessage=null}}},p=g,m=a("2877"),b=Object(m["a"])(p,u,d,!1,null,null,null),x=b.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":e.options.width},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Login")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-alert",{attrs:{value:e.errorMessage,type:"error"}},[e._v("\n                    Unable to login. "),a("br"),e._v("\n                    Check your email or password.\n                  ")])],1),a("v-flex",{attrs:{xs12:""}},[a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.progress,expression:"progress"}],attrs:{indeterminate:!0}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{name:"email",rules:[e.rules.required,e.rules.email],label:"UserID(E-mail address)",autocomplete:"username email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"append-icon":e.show1?"visibility_off":"visibility",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"password",label:"Password",hint:"At least 8 characters",counter:"",autocomplete:"new-password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},nativeOn:{click:function(t){return e.cancel()}}},[e._v("Close")]),a("v-btn",{attrs:{type:"submit",color:"primary",flat:"",disabled:!e.validate()},nativeOn:{click:function(t){return e.login()}}},[e._v("Login")])],1)],1)],1)},_=[],y=a("19b2"),k=a("b994"),D=a.n(k),S={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,e1:1,options:{color:"primary",width:400},email:"",password:"",errorMessage:null,show1:!1,progress:!1,rules:{required:function(e){return!!e||"Required."},counter:function(e){return e.length<=20||"Max 20 characters"},min:function(e){return e.length>=8||"Min 8 characters"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail."}}}},methods:{validate:function(){return 1==this.rules.required(this.email)&&1==this.rules.required(this.password)&&1==this.rules.min(this.password)&&1==this.rules.email(this.email)},login:function(){this.progress=!0,this.errorMessage=null;var e=this.email,t=this.password,a=this;k["Auth"].signIn(e,t).then(function(){a.progress=!1,a.clearForm(),a.dialog=!1,y["AmplifyEventBus"].$emit("authState","signedIn")}).catch(function(e){a.progress=!1,a.errorMessage=JSON.stringify(e,void 0,1)})},open:function(){var e=this;return this.dialog=!0,new Promise(function(t,a){e.resolve=t,e.reject=a})},agree:function(){this.resolve(!0),this.clearForm(),this.dialog=!1},cancel:function(){this.resolve(!1),this.clearForm(),this.dialog=!1},clearForm:function(){this.email="",this.password="",this.errorMessage=null}}},I=S,T=Object(m["a"])(I,w,_,!1,null,null,null),j=T.exports;function C(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,n)}function M(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var s=e.apply(t,a);function i(e){C(s,r,n,i,o,"next",e)}function o(e){C(s,r,n,i,o,"throw",e)}i(void 0)})}}var R={name:"App",components:{SignUp:x,Login:j},data:function(){return{signedIn:!1,snackbar:!1,drawer:!1,played:[{title:"7KEYS",key:"beat-7k"},{title:"5KEYS",key:"beat-5k"},{title:"10KEYS",key:"beat-10k"},{title:"14KEYS",key:"beat-14k"},{title:"PMS 5KEYS",key:"popn-5k"},{title:"PMS 9KEYS",key:"popn-9k"},{title:"KM 24KEYS",key:"keyboard-24k"},{title:"KM 48KEYS",key:"keyboard-48k"}],title:"MinIR"}},mounted:function(){},created:function(){var e=M(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k["Auth"].currentAuthenticatedUser();case 3:this.signedIn=!0,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.signedIn=!1;case 9:y["AmplifyEventBus"].$on("authState",function(e){console.log(e),t.signedIn="signedIn"===e});case 10:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{getCurrentUser:function(){var e=M(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k["Auth"].currentAuthenticatedUser();case 3:return t=e.sent,a={AccessToken:t.signInUserSession.accessToken.jwtToken,RefreshToken:t.signInUserSession.refreshToken.token,UserId:t.signInUserSession.idToken.payload.sub},e.abrupt("return",a);case 8:return e.prev=8,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),onSettingPage:function(){var e=M(c.a.mark(function e(){var t;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentUser();case 2:t=e.sent,this.$router.push({path:"/viewer/user/".concat(t.UserId)});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSignUpOpen:function(){var e=M(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.SignUp.open();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onLoginOpen:function(){var e=M(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.Login.open();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),logout:function(){var e=M(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["Auth"].signOut();case 2:y["AmplifyEventBus"].$emit("authState","signedOut"),this.snackbar=!0;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},N=R,U=Object(m["a"])(N,i,o,!1,null,null,null),P=U.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("img",{staticClass:"mb-5",attrs:{width:"80%",src:"logo.png",alt:"MinIR"}})])],1),a("h1",{staticClass:"text-xs-center"},[e._v("Update history")]),a("v-container",{attrs:{"text-xs-left":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.history,function(t,r){return a("v-flex",{key:r,attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-flex",{attrs:{xs10:""}},[a("div",[e._v(e._s(t.text))]),a("div",[e._v("["+e._s(t.date)+"]")])])],1)],1)],1)}),1)],1)],1)],1)],1)],1)],1)},L=[],O=a("bdd6"),E={name:"Index",props:{msg:String},data:function(){return{history:O,styleObject:{background:"rgba(255,255,255,0)"}}}},Y=E,z=(a("753d"),Object(m["a"])(Y,A,L,!1,null,"04886ca4",null)),H=z.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("h1",[e._v("MinIR とは")]),a("p",[e._v("beatoraja用に設計されたIRです。 下記コンセプトに基づいています。\n    ")]),a("ul",[a("li",[e._v("できるだけ安価に済ませたい\n            "),a("ul",[a("li",[e._v("なので、AWSの無料枠で収まるように設計(\n                    "),a("strong",[e._v("収まってほしい")]),e._v(")")]),a("li",[e._v("保存するデータを最小限にすることで、課金を抑える\n                    "),a("ul",[a("li",[e._v("保存データが確定するまでもうちょっとかかるかな？")])])])])]),a("li",[e._v("最低限の機能\n            "),a("ul",[a("li",[a("strong",[e._v("スコアが譜面ごとに記録できること")]),e._v("のみを要件に開発")]),a("li",[e._v("そのため下記内容は実装予定がありません（今後変わるかもだけど）\n                    "),a("ul",[a("li",[e._v("段位認定（難易度表で対応してください。スコア送信できます。(0.5.6以降の本体必須)）")]),a("li",[e._v("ライバル機能（無課金で対応するのが難しい）")]),a("li",[e._v("楽曲検索(RDBじゃないので非現実的な負荷)")])])])])]),a("li",[e._v("万が一に備えた再利用性\n            "),a("ul",[a("li",[e._v("AWSを利用することで、サーバー管理の引き継ぎが容易")])])]),a("li",[e._v("ぶっちゃけAWSの勉強で作った\n            "),a("ul",[a("li",[e._v("すいません、ガッツリ運用するかは未知数です")]),a("li",[e._v("人が足りない")]),a("li",[e._v("本当は実装予定なし機能はやりたい…")])])])]),a("h1",[e._v("参加方法")]),a("ol",[a("li",[a("p",[e._v("IRユーザーを作成します。\n                "),a("br"),e._v("\n                SIGIN UPにアクセスして、ユーザーを作成し、メール認証を行います。")])]),a("li",[a("p",[e._v("MinIR API をダウンロードし配置します\n                "),a("br"),a("a",{attrs:{href:"https://drive.google.com/open?id=1wYVNufrfiVAWUkYTVdGl0Q0PqrhkHZBo"}},[e._v("https://drive.google.com/open?id=1wYVNufrfiVAWUkYTVdGl0Q0PqrhkHZBo")]),e._v(" からzipをダウンロードします。\n                "),a("br"),e._v(" フォルダ内容は以下の通りです。\n            ")]),a("ul",[a("li",[e._v("ir\n                    "),a("ul",[a("li",[e._v("minir_alpha.jar")])])]),a("li",[e._v("beatoraja_minir.bat")])]),a("p",[e._v("これらのファイルを本体であるbeatorajaフォルダに配置します。\n                "),a("br"),e._v(" 以下のようになるはずです。\n            ")]),a("ul",[a("li",[e._v("skin")]),a("li",[e._v("player")]),a("li",[e._v("ir\n                    "),a("ul",[a("li",[e._v("minir_alpha.jar")])])]),a("li",[e._v("beatoraja_minir.bat")]),a("li",[e._v("beatoraja.jar")]),a("li",[e._v("beatoraja-config.bat")]),a("li",[e._v("config.json")]),a("li",[e._v("...")])]),a("p",[e._v("注意：IR機構は独立しているため、ローカルのプレイデータに影響は与えないはずですが、万が一のため\n                "),a("strong",[e._v("バックアップをとっておくことを強く推奨")]),e._v("します。")])]),a("li",[a("p",[a("code",[e._v("beatoraja_minir.bat")]),e._v(" から起動します。\n                "),a("br"),e._v(" IRタブで「MinIR」が選択できるようになっていれば成功です。 登録したメールアドレス/パスワードを入力し、起動してください。\n            ")])])]),a("h1",[e._v("現状できること")]),a("ul",[a("li",[e._v("譜面のスコア送信\n            "),a("ul",[a("li",[e._v("スコアが上回っていればスコアが上書き、クリアが上回っていればクリア状況が上書きされます。")]),a("li",[e._v("beatoraja上でのログイン必須です。")])])]),a("li",[e._v("コースのスコア送信(beatoraja 0.5.6以上必須)\n            "),a("ul",[a("li",[e._v("スコアが上回っていればスコアが上書き、クリアが上回っていればクリア状況が上書きされます。")]),a("li",[e._v("beatoraja上でのログイン必須です。")])])]),a("li",[e._v("譜面のスコア閲覧\n        ")]),a("li",[e._v("コースのスコア閲覧\n        ")]),a("li",[e._v("直近100件のIR送信された譜面リスト\n        ")]),a("li",[e._v("直近100件のIR送信されたコースリスト\n        ")]),a("li",[e._v("ユーザーページ\n            "),a("ul",[a("li",[e._v("\n                    ログイン時は、自身のユーザー情報を編集できます。(SETTING から移動できます)\n                ")])])]),a("li",[e._v("ログイン\n        ")]),a("li",[e._v("ログアウト\n        ")])]),a("h1",[e._v("禁止事項")]),a("ul",[a("li",[e._v("違法な楽曲の登録・プレイ\n            "),a("ul",[a("li",[e._v("発見次第、プレイアカウントは永久凍結処分となります。")])])]),a("li",[e._v("ユーザコメント欄における誹謗中傷\n            "),a("ul",[a("li",[e._v("管理者裁定の無い限り削除しません。また管理者には削除の義務や責任はありません。")]),a("li",[e._v("個人を完全に特定する情報を伴っているものは削除対象です。")])])]),a("li",[e._v("ユーザコメント欄における私生活情報の記述\n            "),a("ul",[a("li",[e._v("情報価値が無く、私事のみの情報・第三者の確認できないプライベート情報は、個人が完全に特定されなくても、対象者に不利益が発生する可能性があれば、一律削除対象とします。")])])]),a("li",[e._v("ユーザコメント欄における外部リンク\n            "),a("ul",[a("li",[e._v("営利目的での外部リンク（アフィリエイトサイトなど）、悪意あるサイトへのリンク（フィッシングサイトなど）は削除対象です。")]),a("li",[e._v("非営利目的での外部リンク（外部SNS、他BMSリポジトリへのリンク等）は削除対象外です。")])])])]),a("p",[e._v("その他ご意見・ご感想はDiscode DMでよろしくおねがいします。")]),a("hr"),a("p",[e._v("海岸砂丘(Sack Magiclight)#6651")])])},F=[],K={},J=Object(m["a"])(K,V,F,!1,null,null,null),$=J.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("div",[a("h1",[e._v("プライバシーポリシー")])]),a("div",[a("p",[e._v("MinIRは、BMSプレイヤー（ユーザー）にIRサービスを提供します。サービス提供に当たり、個人情報の有用性を鑑みて、個人の権利と利益を保護する情報保護の方針を確立し、この方針を実行します。")]),a("p",[e._v("この方針の中で使う「個人情報」という用語は、電子メールアドレス、オンライン識別子等の識別子を用いて、ユーザーを直接間接を問わず特定できる情報を意味します。")]),a("p",[e._v("EUの一般データ保護規則2016 (『GDPR』と呼びます)上は、MinIR管理者は、個人情報のコントローラーに当たり、MinIRのウェブサイトの責任者です。")]),a("h2",[e._v("MinIRのデータ守秘に関する方針")]),a("ol",[a("li",[a("span",[e._v("MinIRは、サービス内容と規模に応じて、然るべき個人情報を取得し、使用し、提供します。")])]),a("li",[a("span",[e._v("MinIRは、個人情報の使用目的を特定し、個人情報の使用がその目的を逸脱しないことを確実とします。")])]),a("li",[a("span",[e._v("MinIRは、個人情報の使用に関する法律、政府が設定した方針、およびその他の関連政令を遵守します。")])])]),a("h2",[e._v("MinIRが収集する情報とは?")]),a("p",[e._v("収取する個人情報およびユーザーに関する個人情報の収集方法は、以下の通りです。")]),a("ul",[a("li",[a("b",[e._v("ユーザーがMinIRに提供する個人情報")]),a("span",[e._v(" ユーザーが、書式に記入することにより、電子メールアドレスを含む個人情報を提供することがあります。これには、MinIR使用するための登録をする際や、MinIRを利用する際にユーザーが提供する個人情報が含まれます。")])]),a("li",[a("b",[e._v("MinIRが収集する個人情報")]),a("span",[e._v(" ユーザーがMinIRを利用する際に、ユーザーの装置、ブラウジング行為とパターン、MinIRへのアクセス日、MinIRの閲覧前にユーザーが閲覧したウェブサイト、ユーザーのブラウザ、OS、IPアドレス、およびドメインネームに関する技術情報が自動的に収集されます。これらの個人情報は、クッキーや、サーバーログや、その他類似の技術を使って収集されます。ただし、アクセスログに記録されているコンテンツは、個人情報と紐づけては使用されません。\n                  MinIRとサービスの向上を助けるサーバー運営情報として使用されます。\n              ")])])]),a("p",[e._v("ユーザーは、ブラウザの設定により、クッキーの機能を無効にすることができますが、その結果ウェブサイト上のサービスの全部または一部が利用できなくなくなります。")]),a("h2",[e._v("クッキーに関して")]),a("p",[e._v("他の多くのウェブサイトと同様、MinIRにおいても、「クッキー」を使用しています。")]),a("p",[e._v("クッキーとは、ウェブサーバーとユーザーのウェブブラウザとの間を転送され、ユーザーのコンピューターディスクや携帯電話デバイスにファイルとして保管される小さなデータです。")]),a("p",[e._v("MinIRは、クッキーを主として以下の目的に使用します。")]),a("ul",[a("li",[a("span",[e._v("ユーザーがMinIRを利用する際に、毎回パスワードを入力しないで済みます。")])]),a("li",[a("span",[e._v("MinIRのサービスを利用するユーザーの活動を理解する一助としての分析作業。")])])]),a("p",[e._v("ユーザーは、ブラウザの設定を選択してクッキーの機能を不能にすることができます。ただし、その場合は、MinIRの全てのあるいは一部のサービスを使用できなくなることに留意ください。")]),a("h2",[e._v("MinIRの情報プロセシングの目的とは?")]),a("p",[e._v("MinIRは、ユーザーの個人情報を下記の目的のために使用します。")]),a("ul",[a("li",[a("span",[e._v("ユーザーの特定")])]),a("li",[a("span",[e._v("MinIRの情報、システム、およびネットワークのモニタリングと保護 ")])]),a("li",[a("span",[e._v("MinIRシステムの向上")])])]),a("h2",[e._v("誰に情報を提供するのか?")]),a("p",[e._v("ユーザーの個人情報は、厳に秘密扱いとします。この個人情報の保護に関する方針に規定する目的のため、下記の者にユーザーの個人情報を提供することができます。")]),a("ul",[a("li",[a("span",[e._v("データ保存、メンテナンスサービス、データベース管理、ウェブ分析、といった、MinIRのサービスを補助するサービスを提供する会社")])]),a("li",[a("span",[e._v("MinIRが、サービスを移転するために選んだ第三者。もしMinIRの運営者に何らかの変更が起こる場合は、新しい運営者がユーザーの個人情報を、この個人情報の保護に関する方針の規定と同じ方法で使用することになります。")])])]),a("p",[e._v("すべての第三者に対し、ユーザーの個人情報の安全に配慮し、法律に則って取り扱うよう義務付けます。")]),a("p",[e._v("MinIRは、日本を拠点とするサービスです。 また、クラウドプロバイダー、Webホスティングなど、さまざまな国のサードパーティのサービスプロバイダーと連携しています。 ユーザーの情報はサービスの一環として、欧州経済地域（EEA）外に移転され、他の国（日本、および米国を含む）で保管または処理されます。\n              MinIRを使用することにより、ユーザーは、自身の情報がこれらの場所に転送されることに同意したことになります。\n          ")]),a("h2",[e._v("情報の保存期間はどれくらいか?")]),a("p",[e._v("MinIRは、ユーザーを特定できるような形式で、個人情報がプロセシングされる目的のために必要な期間を超えない間は、個人情報を保管します。 MinIRは、サービスを実行するために必要な限りで、ユーザーの個人情報を使用します。")]),a("h2",[e._v("ヨーロッパにおける守秘とされる権利")]),a("p",[a("b",[e._v("ヨーロッパ在住者のみ該当")]),a("span",[e._v(" MinIRは、GDPRを含むデータ保護法上、プロセシングの法的根拠がある場合に限り、ユーザーの個人情報を収集しプロセシングします。法的根拠は、MinIRがユーザーの個人情報をプロセシングする目的によります。MinIRは、ユーザーの個人情報を以下の場合に限り収集し使用します。")])]),a("ul",[a("li",[a("span",[e._v("MinIRのサービスの提供に必要な場合")])]),a("li",[a("span",[e._v("調査と開発に必要な場合")])]),a("li",[a("span",[e._v("ユーザーが特定の目的のために収集使用に同意した場合")])]),a("li",[a("span",[e._v("法律上の義務を遵守するためにユーザーの個人情報をプロセシングする必要がある場合")])])]),a("p",[e._v("ユーザーが特定の目的のために個人情報を使用することに同意した場合でも、ユーザーには、いつでも考えを変える権利があります。")]),a("p",[e._v("一定の状況において、ユーザーは、自己の個人情報に関してGDPR上の権利を有します。")]),a("ul",[a("li",[a("b",[e._v("個人情報へのアクセス要求")]),a("span",[e._v(" ユーザーには、MinIRが保有している個人情報と個人情報をプロセシングする目的、または関連情報へのアクセスを要求する権利がある場合があります。\n              ")])]),a("li",[a("b",[e._v("個人情報の修正要求")]),a("span",[e._v(" ユーザーには、MinIRが保有するユーザーの個人情報の不正確部分を訂正させる権利がある場合があります。")])]),a("li",[a("b",[e._v("個人情報の消去要求")]),a("span",[e._v(" ユーザーには、ユーザーの個人情報の消去を要求する権利がある場合があります。")])]),a("li",[a("b",[e._v("個人情報のプロセシングの制限要求")]),a("span",[e._v(" ユーザーには、ユーザーの個人情報のプロセシングを禁止もしくは制限する権利がある場合があります。")])])]),a("h2",[e._v("連絡先")]),a("p",[e._v("MinIRのこの個人情報の保護に関する方針またはその実行に関して質問がある場合は、Discord 海岸砂丘(Sack Magiclight)#6651 までご連絡ください。")]),a("h2",[e._v("本方針の変更")]),a("p",[e._v("MinIRの情報管理の変更により本方針を改訂することがあります。重要な改訂がある場合は、改訂が有効となる前に、MinIRサイト上に通知を出して連絡します。個人情報保護に関する最新の情報については、このページを定期的に閲覧するようお願い致します。")])])])},q=[],B={},W=Object(m["a"])(B,Z,q,!1,null,null,null),X=W.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-container",{attrs:{"text-xs-left":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h3",[e._v("Search Restriction: Once a minute")])]),a("v-flex",{attrs:{xs12:""}},[a("v-alert",{attrs:{value:e.errorMessage,type:"error"}},[e._v("\n              "+e._s(e.errorMessage)+"\n              ")])],1),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Play Mode")])],1),a("v-flex",{attrs:{xs8:""}},[a("v-select",{attrs:{items:e.modes,"item-text":"title","item-value":"key",label:"Select mode","single-line":""},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[e._v("Title Keyword")])],1),a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.min],type:"text",name:"input-10-1",hint:"At least 3 characters"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("v-btn",{attrs:{outline:"",flat:"",color:"primary",disabled:!e.validate(),loading:e.loading},nativeOn:{click:function(t){return e.getSongData()}}},[e._v("\n                Search\n                "),a("span",{attrs:{slot:"loader"},slot:"loader"},[a("v-progress-circular",{attrs:{rotate:-90,width:15,value:e.loadingValue,color:"primary"}})],1)])],1)],1)],1)],1)],1)],1),a("v-layout",{staticStyle:{"margin-top":"10px"},attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[a("v-card",[a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:""}})],1)],1)],1),a("div",{ref:"table"})],1)],1)],1)},Q=[],ee=a("39ab"),te=a.n(ee),ae=a("971e"),re={name:"Search",watch:{tableData:{handler:function(e){this.table.replaceData(e)},deep:!0}},props:{msg:String},mounted:function(){this.table=new te.a(this.$refs.table,{layout:"fitColumns",reactiveData:!0,columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{formatter:"textarea",title:"Title",field:"title",minWidth:200,headerSort:!1,resizable:!1},{formatter:"textarea",title:"Artist",field:"artist",minWidth:200,headerSort:!1,resizable:!1},{title:"IR Links",field:"songhash",width:80,formatter:function(e,t){var a=e.getValue();return'<a href="./#/viewer/song/'.concat(a,'/0">IR</a><br><a href="./#/viewer/song/').concat(a,'/1">IR(CN)</a><br><a href="./#/viewer/song/').concat(a,'/2">IR(HCN)</a>')},headerSort:!1,resizable:!1}]})},data:function(){return{errorMessage:null,table:null,tableData:[],progress:!1,loading:!1,loadingValue:100,title:"",mode:"beat-7k",modes:[{title:"7KEYS",key:"beat-7k"},{title:"5KEYS",key:"beat-5k"},{title:"10KEYS",key:"beat-10k"},{title:"14KEYS",key:"beat-14k"},{title:"PMS 5KEYS",key:"popn-5k"},{title:"PMS 9KEYS",key:"popn-9k"},{title:"KM 24KEYS",key:"keyboard-24k"},{title:"KM 48KEYS",key:"keyboard-48k"}],rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=3||"Min 3 characters."}}}},methods:{validate:function(){return 1==this.rules.required(this.title)&&1==this.rules.min(this.title)},getSongData:function(){var e=this;this.loading=!0,this.interval&&(clearInterval(this.interval),this.interval=null),this.interval=setInterval(function(){if(e.loadingValue<0)return e.loadingValue=100,e.loading=!1,clearInterval(e.interval),void(e.interval=null);e.loadingValue-=10/6},1e3),this.errorMessage=null,this.progress=!0;this.mode;this.tableData=[];var t=ae.get("search_song_data").split(",");f.a.config.update({accessKeyId:t[0],secretAccessKey:t[1]}),f.a.config.region="us-east-1";var a=new f.a.Lambda,r={FunctionName:"search_song_data",Payload:JSON.stringify({mode:this.mode,title:this.title})};a.invoke(r,function(t,a){if(e.progress=!1,t);else{var r=JSON.parse(a.Payload.toString());"success"==r.message?(console.log(r.songDatas),e.tableData=r.songDatas):r.errorMessage?e.errorMessage=r.errorMessage:r.message&&(e.errorMessage=r.message)}})}}},ne=re,se=Object(m["a"])(ne,G,Q,!1,null,null,null),ie=se.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],attrs:{"align-space-between":"","justify-center":"",row:"","fill-height":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[a("v-card",[a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:""}})],1)],1)],1),a("div",{ref:"table"})],1)],1)],1)},le=[],ce=a("971e"),ue={name:"Latest",watch:{$route:function(e,t){this.getLatestData()},tableData:{handler:function(e){this.table.replaceData(e)},deep:!0}},props:{msg:String},mounted:function(){this.table=new te.a(this.$refs.table,{layout:"fitColumns",height:this.tableHeight(),reactiveData:!0,columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{formatter:"textarea",title:"Title",field:"title",minWidth:200,headerSort:!1,resizable:!1},{formatter:"textarea",title:"Artist",field:"artist",minWidth:200,headerSort:!1,resizable:!1},{title:"IR Links",field:"songhash",width:80,formatter:function(e,t){var a=e.getValue();return'<a href="./#/viewer/song/'.concat(a,'/0">IR</a><br><a href="./#/viewer/song/').concat(a,'/1">IR(CN)</a><br><a href="./#/viewer/song/').concat(a,'/2">IR(HCN)</a>')},headerSort:!1,resizable:!1}]}),this.getLatestData()},data:function(){return{table:null,progress:!1,tableData:[]}},methods:{onResize:function(){this.table&&(this.table.setHeight(this.tableHeight()),this.table.redraw())},tableHeight:function(){return window.innerHeight-100+"px"},getMode:function(){return this.$route.params.mode},getLatestData:function(){this.progress=!0;var e=this.getMode(),t=this;this.tableData=[];var a=ce.get("get_played_100").split(",");f.a.config.update({accessKeyId:a[0],secretAccessKey:a[1]}),f.a.config.region="us-east-1";var r=new f.a.Lambda,n={FunctionName:"get_played_100",Payload:JSON.stringify({mode:e||"beat-7k"})};r.invoke(n,function(e,a){if(t.progress=!1,e);else{var r=JSON.parse(a.Payload.toString());"success"==r.message&&(t.tableData=r.songDatas)}})}}},de=ue,ve=(a("a4c7"),Object(m["a"])(de,oe,le,!1,null,null,null)),fe=ve.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],attrs:{"align-space-between":"","justify-center":"",row:"","fill-height":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[a("v-card",[a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:""}})],1)],1)],1),a("div",{ref:"table"})],1)],1)],1)},ge=[],pe=a("971e"),me={name:"CourceLatest",watch:{$route:function(e,t){this.getLatestData()},tableData:{handler:function(e){this.table.replaceData(e)},deep:!0}},props:{msg:String},mounted:function(){this.table=new te.a(this.$refs.table,{layout:"fitColumns",height:this.tableHeight(),reactiveData:!0,columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{formatter:"textarea",title:"Cource Name",field:"name",headerSort:!1,resizable:!1},{title:"IR Links",field:"courcehash",width:80,formatter:function(e,t){var a=e.getValue();return'<a href="./#/viewer/cource/'.concat(a,'/0">IR</a><br><a href="./#/viewer/cource/').concat(a,'/1">IR(CN)</a><br><a href="./#/viewer/cource/').concat(a,'/2">IR(HCN)</a>')},headerSort:!1,resizable:!1}]}),this.getLatestData()},data:function(){return{table:null,progress:!1,tableData:[]}},methods:{onResize:function(){this.table&&(this.table.setHeight(this.tableHeight()),this.table.redraw())},tableHeight:function(){return window.innerHeight-100+"px"},getMode:function(){return this.$route.params.mode},getLatestData:function(){this.progress=!0;this.getMode();var e=this;this.tableData=[];var t=pe.get("get_cource_played_100").split(",");f.a.config.update({accessKeyId:t[0],secretAccessKey:t[1]}),f.a.config.region="us-east-1";var a=new f.a.Lambda,r={FunctionName:"get_cource_played_100"};a.invoke(r,function(t,a){if(e.progress=!1,t);else{var r=JSON.parse(a.Payload.toString());"success"==r.message&&(e.tableData=r.courceDatas)}})}}},be=me,xe=Object(m["a"])(be,he,ge,!1,null,null,null),we=xe.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("music_note")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                              "+e._s(e.songData.genre)+"\n                            ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("title")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                              "+e._s(e.songData.title)+"\n                            ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("person")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                              "+e._s(e.songData.artist)+"\n                            ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("fast_forward")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                              "+e._s(e.songData.maxbpm==e.songData.minbpm?e.songData.maxbpm:e.songData.minbpm+"-"+e.songData.maxbpm)+"\n                            ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("stars")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                              ☆"+e._s(e.songData.level)+"\n                            ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("assessment")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                              "+e._s(e.songData.notes)+" Notes / "+e._s(e.songData.total)+" total\n                            ")])],1)],1)],1),e.progress?e._e():a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",{attrs:{"justify-start":"",row:""}},[e.stellaPath?a("v-flex",{attrs:{xs12:""}},[a("v-layout",[a("v-btn",{attrs:{block:"",color:"#001529",href:e.stellaPath,target:"_blank"}},[a("span",{staticStyle:{color:"white","text-transform":"none"}},[e._v("Stella / Satellite")])])],1)],1):e._e(),a("v-flex",{attrs:{xs12:""}},[a("v-layout",[a("v-btn",{attrs:{block:"",color:"#75491E",href:e.getMochaURL,target:"_blank"}},[a("span",{staticStyle:{color:"white","text-transform":"none"}},[e._v("Mocha")])])],1)],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",{attrs:{"justify-start":"",row:""}},[a("v-flex",{attrs:{xs12:""}},[a("social-sharing",{attrs:{url:e.getHref,title:"[MinIR SongPage] "+e.songData.title},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("network",{attrs:{network:"twitter"}},[a("v-btn",{attrs:{block:"",color:"#1b95e0"}},[a("v-icon",{attrs:{color:"white"}},[e._v("fab fa-twitter")]),a("span",{staticStyle:{color:"white","text-transform":"none"}},[e._v("tweet")])],1)],1)],1)},staticRenderFns:[]}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[e.videoId?a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.$vuetify.breakpoint.xs,expression:"!$vuetify.breakpoint.xs"}],attrs:{xs12:""}},[a("youtube",{attrs:{"video-id":e.videoId,"player-width":"560","player-height":"345"}}),e.signedIn?a("v-card",[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{p:""}},[a("v-switch",{attrs:{color:"primary"},model:{value:e.enableVideoIdEditor,callback:function(t){e.enableVideoIdEditor=t},expression:"enableVideoIdEditor"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{disabled:!e.enableVideoIdEditor},model:{value:e.videoId,callback:function(t){e.videoId=t},expression:"videoId"}})],1),a("v-flex",{attrs:{p:""}},[a("v-btn",{attrs:{loading:e.updateVideoIdLoading,disabled:!e.enableVideoIdEditor||e.updateVideoIdLoading,color:"primary"},nativeOn:{click:function(t){return e.updateVideoId()}}},[e._v("Update Video ID")])],1)],1)],1)],1):e._e()],1):e._e(),e.videoId?e._e():a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.$vuetify.breakpoint.xs,expression:"!$vuetify.breakpoint.xs"}],attrs:{xs12:""}},[a("v-layout",{attrs:{"justify-center":"",column:"","fill-height":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[e._v("Nothing Video")]),a("div",[e._v("Please add Youtube video."),e.signedIn?e._e():a("span",[e._v("(Need to login.)")])])])]),e.signedIn?a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{p:""}},[a("v-switch",{attrs:{color:"primary"},model:{value:e.enableVideoIdEditor,callback:function(t){e.enableVideoIdEditor=t},expression:"enableVideoIdEditor"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{disabled:!e.enableVideoIdEditor},model:{value:e.videoId,callback:function(t){e.videoId=t},expression:"videoId"}})],1),a("v-flex",{attrs:{p:""}},[a("v-btn",{attrs:{loading:e.updateVideoIdLoading,disabled:!e.enableVideoIdEditor||e.updateVideoIdLoading,color:"primary"},nativeOn:{click:function(t){return e.updateVideoId()}}},[e._v("Update Video ID")])],1)],1)],1):e._e()],1)],1)],1)],1)],1)],1)],1)],1),a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[a("v-card",[a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:""}})],1)],1)],1),a("div",{ref:"table"})],1)],1)],1)],1)},ye=[],ke=a("bc3a"),De=a.n(ke);function Se(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,n)}function Ie(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var s=e.apply(t,a);function i(e){Se(s,r,n,i,o,"next",e)}function o(e){Se(s,r,n,i,o,"throw",e)}i(void 0)})}}var Te=a("971e"),je={name:"Song",watch:{$route:function(e,t){this.getSongData()},signedIn:function(){var e=Ie(c.a.mark(function e(t,a){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.signedIn=t;case 1:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),tableData:{handler:function(e){this.table.replaceData(e)},deep:!0}},props:{signedIn:Boolean},mounted:function(){this.getSongData()},data:function(){return{table:null,tableData:[],progress:!1,songData:{},stellaPath:null,videoId:"",enableVideoIdEditor:!1,updateVideoIdLoading:!1}},computed:{getHref:function(){return location.href},getMochaURL:function(){return"https://mocha-repository.info/song.php?sha256=".concat(this.getSongHash(),"&lnmode=").concat(Number(this.getLnMode())+1)}},methods:{getCurrentUser:function(){var e=Ie(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k["Auth"].currentAuthenticatedUser();case 3:return t=e.sent,a={AccessToken:t.signInUserSession.accessToken.jwtToken,RefreshToken:t.signInUserSession.refreshToken.token,UserId:t.signInUserSession.idToken.payload.sub},console.log(a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),getYoutubeId:function(e){this.videoId=e.video?e.video.videoid:""},getSongHash:function(){return this.$route.params.songhash},getLnMode:function(){return this.$route.params.lnmode},createTable:function(e){this.table=new te.a(this.$refs.table,{layout:"fitColumns",pagination:"local",paginationSize:30,rowFormatter:function(e){e.getData().novalidate&&(e.getElement().style.backgroundColor="#A6A6DF")},columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{title:"Name",field:"username",resizable:!1,minWidth:150,headerSort:!1,formatter:function(e,t){var a=e.getRow().getData(),r=a.userid;return'<a href="./#/viewer/user/'.concat(r,'">').concat(e.getValue(),"</a>")}},{title:"Score",field:"score",minWidth:150,resizable:!1,align:"left",formatter:"progress",formatterParams:{min:0,max:2*e,legend:!0},headerSort:!1},{title:"Combo",field:"combo",minWidth:150,resizable:!1,align:"left",formatter:"progress",formatterParams:{min:0,max:e,color:"orange",legend:!0},headerSort:!1},{title:"Clear",field:"clear",align:"center",width:150,resizable:!1,headerSort:!1,formatter:function(e,t){switch(e.getValue()){case 0:return e.getElement().style.backgroundColor="rgb(255, 255, 255)","NoPlay";case 1:return e.getElement().style.backgroundColor="rgb(192, 192, 192)","Failed";case 2:return e.getElement().style.backgroundColor="rgb(149, 149, 255)","AssistEasy";case 3:return e.getElement().style.backgroundColor="rgb(149, 149, 255)","LightAssistEasy";case 4:return e.getElement().style.backgroundColor="rgb(152, 251, 152)","Easy";case 5:return e.getElement().style.backgroundColor="rgb(152, 251, 152)","Normal";case 6:return e.getElement().style.backgroundColor="rgb(255, 99, 71)","Hard";case 7:return e.getElement().style.backgroundColor="rgb(255, 217, 0)","ExHard";case 8:return e.getElement().style.backgroundColor="rgb(255, 140, 0)","FullCombo";case 9:return e.getElement().style.backgroundColor="rgb(255, 140, 0)","Perfect";case 10:return e.getElement().style.backgroundColor="rgb(255, 140, 0)","Max"}}}]})},getSongData:function(){this.progress=!0;var e=this.getSongHash(),t=this.getLnMode(),a=this,r=Te.get("get_song_data").split(",");f.a.config.update({accessKeyId:r[0],secretAccessKey:r[1]}),f.a.config.region="us-east-1";var n=new f.a.Lambda,s={FunctionName:"get_song_data",Payload:JSON.stringify({songhash:e+(t?"."+t:".0")})};n.invoke(s,function(e,t){if(a.progress=!1,!e){var r=JSON.parse(t.Payload.toString());"success"==r.message&&(a.songData=r.SongData,a.createTable(r.SongData.notes),a.tableData=r.IRDatas,a.getYoutubeId(r.SongData),a.getStellaPath())}})},updateVideoId:function(){var e=Ie(c.a.mark(function e(){var t,a,r,n,s,i,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.updateVideoIdLoading=!0,e.next=3,this.getCurrentUser();case 3:return t=e.sent,a=this.getSongHash(),r=this.videoId,n=Te.get("update_song_data").split(","),f.a.config.update({accessKeyId:n[0],secretAccessKey:n[1]}),f.a.config.region="us-east-1",s=new f.a.Lambda,i={FunctionName:"update_song_data",Payload:JSON.stringify({AccessToken:t.AccessToken,RefreshToken:t.RefreshToken,Songhash:a,VideoId:r})},o=this,e.prev=12,e.next=15,s.invoke(i).promise();case 15:e.sent,o.updateVideoIdLoading=!1,o.enableVideoIdEditor=!1,o.updateVideoIdLoading=!1,o.getSongData(),e.next=24;break;case 22:e.prev=22,e.t0=e["catch"](12);case 24:case"end":return e.stop()}},e,this,[[12,22]])}));function t(){return e.apply(this,arguments)}return t}(),getStellaPath:function(){var e=this;De.a.get("https://stellabms.xyz/sha256/".concat(this.getSongHash()),{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(function(t){console.log(t),404!=t.status?e.stellaPath="https://stellabms.xyz/sha256/".concat(e.getSongHash()):e.stellaPath=null}).catch(function(t){e.stellaPath=null})}}},Ce=je,Me=(a("89b6"),Object(m["a"])(Ce,_e,ye,!1,null,null,null)),Re=Me.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("title")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                              "+e._s(e.headerData.name)+"\n                            ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("lock")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                              "+e._s(e.headerData.constraints)+"\n                            ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("div",{ref:"songTable"})])],1)],1),a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.progress,expression:"progress"}],attrs:{size:50,color:"primary",indeterminate:""}}),a("div",{ref:"table"})],1)],1)],1)],1)},Ue=[],Pe=a("971e"),Ae={name:"Cource",watch:{$route:function(e,t){this.getCourceData()},courceData:{handler:function(e){this.table.replaceData(e)},deep:!0},songData:{handler:function(e){this.songTable.replaceData(e)},deep:!0}},props:{msg:String},mounted:function(){this.getCourceData()},data:function(){return{table:null,songTable:null,progress:!1,courceData:[],songData:[],headerData:{}}},methods:{getCourceHash:function(){return this.$route.params.courcehash},getLnMode:function(){return this.$route.params.lnmode},createSongTable:function(){this.songTable=new te.a(this.$refs.songTable,{layout:"fitColumns",columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{formatter:"textarea",title:"SongTitle",field:"title",minWidth:200,headerSort:!1,resizable:!1},{title:"IR Links",field:"songhash",width:80,formatter:function(e,t){var a=e.getValue();return'<a href="./#/viewer/song/'.concat(a,'/0">IR</a><br><a href="./#/viewer/song/').concat(a,'/1">IR(CN)</a><br><a href="./#/viewer/song/').concat(a,'/2">IR(HCN)</a>')},headerSort:!1,resizable:!1}]})},createTable:function(e){this.table=new te.a(this.$refs.table,{layout:"fitColumns",pagination:"local",paginationSize:30,rowFormatter:function(e){e.getData().novalidate&&(e.getElement().style.backgroundColor="#A6A6DF")},columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{title:"Name",field:"username",resizable:!1,minWidth:150,headerSort:!1,formatter:function(e,t){var a=e.getRow().getData(),r=a.userid;return'<a href="./#/viewer/user/'.concat(r,'">').concat(e.getValue(),"</a>")}},{title:"Score",field:"score",align:"left",formatter:"progress",formatterParams:{min:0,max:2*e,legend:!0},headerSort:!1,minWidth:150,resizable:!1},{title:"Combo",field:"combo",align:"left",formatter:"progress",formatterParams:{min:0,max:e,color:"orange",legend:!0},headerSort:!1,minWidth:150,resizable:!1},{title:"Clear",field:"clear",align:"center",width:150,resizable:!1,headerSort:!1,formatter:function(e,t){switch(e.getValue()){case 0:return e.getElement().style.backgroundColor="rgb(255, 255, 255)","NoPlay";case 1:return e.getElement().style.backgroundColor="rgb(192, 192, 192)","Failed";case 2:return e.getElement().style.backgroundColor="rgb(149, 149, 255)","AssistEasy";case 3:return e.getElement().style.backgroundColor="rgb(149, 149, 255)","LightAssistEasy";case 4:return e.getElement().style.backgroundColor="rgb(152, 251, 152)","Easy";case 5:return e.getElement().style.backgroundColor="rgb(152, 251, 152)","Normal";case 6:return e.getElement().style.backgroundColor="rgb(255, 99, 71)","Hard";case 7:return e.getElement().style.backgroundColor="rgb(255, 217, 0)","ExHard";case 8:return e.getElement().style.backgroundColor="rgb(255, 140, 0)","FullCombo";case 9:return e.getElement().style.backgroundColor="rgb(255, 140, 0)","Perfect";case 10:return e.getElement().style.backgroundColor="rgb(255, 140, 0)","Max"}}}]})},getCourceData:function(){this.progress=!0;var e=this.getCourceHash(),t=this.getLnMode(),a=this,r=Pe.get("get_cource_data").split(",");f.a.config.update({accessKeyId:r[0],secretAccessKey:r[1]}),f.a.config.region="us-east-1";var n=new f.a.Lambda,s={FunctionName:"get_cource_data",Payload:JSON.stringify({songhash:e+(t?"."+t:".0")})};n.invoke(s,function(e,t){if(a.progress=!1,!e){var r=JSON.parse(t.Payload.toString());"success"==r.message&&(a.createTable(r.IRDatas[0].notes),a.courceData=r.IRDatas,a.createSongTable(),a.songData=r.CourceData.songs,a.headerData=r.CourceData)}})}}},Le=Ae,Oe=Object(m["a"])(Le,Ne,Ue,!1,null,null,null),Ee=Oe.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.snackbarText)+"\n  ")]),a("v-container",{attrs:{"grid-list-md":""}},[e.signedIn?e._e():a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h2",[e._v(e._s(e.username))]),a("div",{domProps:{innerHTML:e._f("replaseURL")(e._f("nl2br")(e.bio))}})])])],1)],1)],1),e.signedIn&&!e.isUserPage?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md8:""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h2",[e._v(e._s(e.username))]),a("div",{domProps:{innerHTML:e._f("replaseURL")(e._f("nl2br")(e.bio))}})])])],1)],1),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-card",[a("v-btn",{attrs:{loading:e.addRivalLoading,disabled:e.addRivalLoading,color:"primary"},nativeOn:{click:function(t){return e.addRival()}}},[e._v("Add Rival")]),a("v-btn",{attrs:{loading:e.removeRivalLoading,disabled:e.removeRivalLoading,color:"error"},nativeOn:{click:function(t){return e.removeRival()}}},[e._v("Remove Rival")])],1)],1)],1):e._e(),e.signedIn&&e.isUserPage?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h2",[e._v(e._s(e.username))]),a("h4",[e._v("MinIR Unique ID : "+e._s(e.getUserId()))])])]),a("v-card-text",[a("v-textarea",{attrs:{"auto-grow":"",box:"",label:"Bio"},model:{value:e.bio,callback:function(t){e.bio=t},expression:"bio"}}),a("v-btn",{attrs:{loading:e.updateBioLoading,disabled:e.updateBioLoading,color:"primary"},nativeOn:{click:function(t){return e.updateBio()}}},[e._v("Update")])],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-text",[a("h3",[e._v("Rivals")]),a("div",{ref:"rivalTable"})])],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-text",[a("h3",[e._v("Contest")]),a("div",{ref:"contestTable"})])],1)],1)],1):e._e(),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[a("v-card",[a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:""}})],1)],1)],1),a("div",{ref:"table"})],1)],1)],1)],1)},ze=[];function He(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,n)}function Ve(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var s=e.apply(t,a);function i(e){He(s,r,n,i,o,"next",e)}function o(e){He(s,r,n,i,o,"throw",e)}i(void 0)})}}var Fe=a("971e"),Ke={name:"User",props:{signedIn:Boolean},watch:{$route:function(){var e=Ve(c.a.mark(function e(t,a){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setIsUserPage();case 2:return e.next=4,this.getUserData();case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),signedIn:function(){var e=Ve(c.a.mark(function e(t,a){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setIsUserPage();case 2:return e.next=4,this.getUserData();case 4:this.signedIn=t;case 5:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),tableData:{handler:function(e){this.table.replaceData(e)},deep:!0},rivalTableData:{handler:function(e){this.rivalTable.replaceData(e)},deep:!0},contestTableData:{handler:function(e){this.contestTable.replaceData(e)},deep:!0}},filters:{replaseURL:function(e){if("undefined"===typeof e||null===e)return"";var t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e.replace(t,"<a href='$1' target='_blank'>$1</a>")},nl2br:function(e){if("undefined"===typeof e||null===e)return"";var t="<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+t+"$2")}},mounted:function(){var e=Ve(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setIsUserPage();case 2:return e.next=4,this.getUserData();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{isUserPage:!1,snackbar:!1,snackbarText:"",table:null,rivalTable:null,tableData:[],rivalTableData:[],contestTableData:[],progress:!1,username:"",bio:"",addRivalLoading:!1,removeRivalLoading:!1,updateBioLoading:!1,generateApiKeyLoading:!1}},methods:{setIsUserPage:function(){var e=Ve(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getCurrentUser();case 3:e.t0=e.sent.UserId,e.t1=this.getUserId(),this.isUserPage=e.t0==e.t1,e.next=11;break;case 8:e.prev=8,e.t2=e["catch"](0),this.isUserPage=!1;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),getCurrentUser:function(){var e=Ve(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k["Auth"].currentAuthenticatedUser();case 3:return t=e.sent,a={AccessToken:t.signInUserSession.accessToken.jwtToken,RefreshToken:t.signInUserSession.refreshToken.token,UserId:t.signInUserSession.idToken.payload.sub},console.log(a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),getUserId:function(){return this.$route.params.userid},createTable:function(e){this.table=new te.a(this.$refs.table,{layout:"fitColumns",reactiveData:!0,columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{formatter:"textarea",title:"Title",field:"title",minWidth:200,headerSort:!1,resizable:!1},{formatter:"textarea",title:"Artist",field:"artist",minWidth:200,headerSort:!1,resizable:!1},{title:"IR Links",field:"songhash",width:80,formatter:function(e,t){var a=e.getValue(),r=a.split(".");return'<a href="./#/viewer/song/'.concat(r[0],'/0">IR</a><br><a href="./#/viewer/song/').concat(r[0],'/1">IR(CN)</a><br><a href="./#/viewer/song/').concat(r[0],'/2">IR(HCN)</a>')},headerSort:!1,resizable:!1}]}),this.tableData=e},createRivalTable:function(e){this.rivalTable=new te.a(this.$refs.rivalTable,{layout:"fitColumns",columns:[{title:"Name",field:"username",headerSort:!1,formatter:function(e,t){var a=e.getRow().getData(),r=e.getValue(),n=a.userid;return'<a href="./#/viewer/user/'.concat(n,'">').concat(r,"</a>")}}]}),this.rivalTableData=e},createContestTable:function(e){var t=this;this.contestTable=new te.a(this.$refs.contestTable,{layout:"fitColumns",columns:[{title:"Name",field:"contestId",headerSort:!1,formatter:function(e,t){var a=e.getRow().getData();console.log(a);var r=e.getValue(),n=a.contestName;return'<a href="./#/viewer/contest/'.concat(r,'">').concat(n,"</a>")}},{field:"contestId",headerSort:!1,align:"center",width:180,formatter:function(e,a){return t.isUserPage?'<button type="button" class="v-btn theme--light error"><div class="v-btn__content">LEAVE CONTEST</div></button>':""},cellClick:function(e,a){if(t.isUserPage){var r=a.getRow().getData();t.leaveContest(r.contestId)}}}]}),this.contestTableData=e},getUserData:function(){var e=Ve(c.a.mark(function e(){var t,a,r,n,s;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.progress=!0,t=this.getUserId(),this.userid,!this.isUserPage){e.next=6;break}return this.getUserDataLogin(),e.abrupt("return");case 6:a=Fe.get("get_user_data").split(","),f.a.config.update({accessKeyId:a[0],secretAccessKey:a[1]}),f.a.config.region="us-east-1",r=new f.a.Lambda,n={FunctionName:"get_user_data",Payload:JSON.stringify({userId:t})},s=this,r.invoke(n,function(e,t){if(s.progress=!1,!e){var a=JSON.parse(t.Payload.toString());"success"==a.message&&(s.createTable(a.ScoreDatas),s.username=a.UserData.username,s.bio=a.UserData.bio)}});case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getUserDataLogin:function(){var e=Ve(c.a.mark(function e(){var t,a,r,n;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.progress=!0,this.getUserId(),t=Fe.get("get_user_data_login").split(","),f.a.config.update({accessKeyId:t[0],secretAccessKey:t[1]}),f.a.config.region="us-east-1",a=new f.a.Lambda,e.t0=JSON,e.next=9,this.getCurrentUser();case 9:e.t1=e.sent,e.t2=e.t0.stringify.call(e.t0,e.t1),r={FunctionName:"get_user_data_login",Payload:e.t2},n=this,a.invoke(r,function(e,t){if(n.progress=!1,!e){var a=JSON.parse(t.Payload.toString());"success"==a.message&&(n.createTable(a.ScoreDatas),n.createRivalTable(a.UserData.rivals),n.createContestTable(a.UserData.contest),n.username=a.UserData.username,n.bio=a.UserData.bio)}});case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),updateBio:function(){var e=Ve(c.a.mark(function e(){var t,a,r,n,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.updateBioLoading=!0,e.next=3,this.getCurrentUser();case 3:t=e.sent,a=this.bio,r=Fe.get("update_user_data").split(","),f.a.config.update({accessKeyId:r[0],secretAccessKey:r[1]}),f.a.config.region="us-east-1",n=new f.a.Lambda,s={FunctionName:"update_user_data",Payload:JSON.stringify({bio:a,AccessToken:t.AccessToken,RefreshToken:t.RefreshToken})},i=this,n.invoke(s,function(e,t){if(i.updateBioLoading=!1,e)return i.snackbarText="Failed to update bio.",void(i.snackbar=!0);var a=JSON.parse(t.Payload.toString());if("success"!=a.message)return i.snackbarText="Failed to update bio.",void(i.snackbar=!0);i.snackbarText="Successfully updated bio.",i.snackbar=!0});case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addRival:function(){var e=Ve(c.a.mark(function e(){var t,a,r,n,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.addRivalLoading=!0,t=this.getUserId(),e.next=4,this.getCurrentUser();case 4:a=e.sent,r=Fe.get("add_rival").split(","),f.a.config.update({accessKeyId:r[0],secretAccessKey:r[1]}),f.a.config.region="us-east-1",n=new f.a.Lambda,s={FunctionName:"add_rival",Payload:JSON.stringify({AccessToken:a.AccessToken,RefreshToken:a.RefreshToken,rivalId:t})},i=this,n.invoke(s,function(e,t){if(i.addRivalLoading=!1,e)return i.snackbarText="Failed to add rival.",void(i.snackbar=!0);var a=JSON.parse(t.Payload.toString());return"success"==a.message?(i.snackbarText="Successfully added rival.",void(i.snackbar=!0)):(i.snackbarText="Failed to add rival.",void(i.snackbar=!0))});case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),removeRival:function(){var e=Ve(c.a.mark(function e(){var t,a,r,n,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.removeRivalLoading=!0,t=this.getUserId(),e.next=4,this.getCurrentUser();case 4:a=e.sent,r=Fe.get("remove_rival").split(","),f.a.config.update({accessKeyId:r[0],secretAccessKey:r[1]}),f.a.config.region="us-east-1",n=new f.a.Lambda,s={FunctionName:"remove_rival",Payload:JSON.stringify({AccessToken:a.AccessToken,RefreshToken:a.RefreshToken,rivalId:t})},i=this,n.invoke(s,function(e,t){if(i.removeRivalLoading=!1,e)return i.snackbarText="Failed to remove rival.",void(i.snackbar=!0);var a=JSON.parse(t.Payload.toString());return"success"==a.message?(i.snackbarText="Successfully removed rival.",void(i.snackbar=!0)):(i.snackbarText="Failed to remove rival.",void(i.snackbar=!0))});case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),leaveContest:function(){var e=Ve(c.a.mark(function e(t){var a,r,n,s,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.progress=!0,e.next=3,this.getCurrentUser();case 3:a=e.sent,r=Fe.get("leave_contest").split(","),f.a.config.update({accessKeyId:r[0],secretAccessKey:r[1]}),f.a.config.region="us-east-1",n=new f.a.Lambda,s={FunctionName:"leave_contest",Payload:JSON.stringify({AccessToken:a.AccessToken,RefreshToken:a.RefreshToken,contestId:t})},i=this,n.invoke(s,function(e,a){if(i.progress=!1,e)return i.snackbarText="Failed to leave Contest.",void(i.snackbar=!0);var r=JSON.parse(a.Payload.toString());return"success"==r.message?(i.snackbarText="Successfully leave Contest.",i.snackbar=!0,void(i.contestTableData=i.contestTableData.filter(function(e){return e.contestId!=t}))):(i.snackbarText="Failed to leave Contest.",void(i.snackbar=!0))});case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},Je=Ke,$e=(a("3607"),Object(m["a"])(Je,Ye,ze,!1,null,null,null)),Ze=$e.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Service Authorize")])]),a("v-card-text",[a("h3",[e._v('Authorize "'+e._s(e.getServiceName())+'" to use your account?')]),a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-alert",{attrs:{value:e.errorMessage,type:"error"}},[e._v('\n                    * Check your email or password.\n                    * If the problem persists please contact the "'+e._s(e.getServiceName())+'" administrator.\n                  ')])],1),a("v-flex",{attrs:{xs12:""}},[a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.progress,expression:"progress"}],attrs:{indeterminate:!0}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:"E-mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"append-icon":e.show1?"visibility_off":"visibility",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"",disabled:!e.validate()},nativeOn:{click:function(t){return e.login()}}},[e._v("Confilm")]),a("v-btn",{attrs:{flat:""},nativeOn:{click:function(t){return e.cancel()}}},[e._v("Cancel")])],1)],1)],1)},Be=[],We=a("971e"),Xe={data:function(){return{title:null,e1:1,email:"",password:"",errorMessage:null,show1:!1,progress:!1,rules:{required:function(e){return!!e||"Required."},counter:function(e){return e.length<=20||"Max 20 characters"},min:function(e){return e.length>=8||"Min 8 characters"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail."}}}},mounted:function(){this.getServiceToken()||this.$router.push({path:"/"})},methods:{getServiceName:function(){return this.$route.params.serviceName},getServiceToken:function(){return decodeURIComponent(this.$route.params.serviceToken)},validate:function(){return 1==this.rules.required(this.email)&&1==this.rules.required(this.password)&&1==this.rules.min(this.password)&&1==this.rules.email(this.email)},login:function(){var e=this;this.progress=!0,this.errorMessage=null;var t=this.email,a=this.password,r=We.get("get_song_data").split(",");f.a.config.update({accessKeyId:r[0],secretAccessKey:r[1]}),f.a.config.region="us-east-1";var n=new f.a.Lambda,s={FunctionName:"auth_service",Payload:JSON.stringify({username:t,password:a,serviceToken:this.getServiceToken(),serviceName:this.getServiceName()})};n.invoke(s,function(t,a){if(e.progress=!1,t)e.errorMessage=JSON.stringify(t,void 0,1);else{var r=JSON.parse(a.Payload.toString());if(r.errorMessage)e.errorMessage=JSON.stringify(r.errorMessage,void 0,1);else{var n=r.ReturnObj.Url;n+="?userid="+r.UserId,r.ReturnObj.QueryParams&&(n+="&",n+=e.encodeQueryData(r.ReturnObj.QueryParams)),document.location=n}}})},cancel:function(){this.$router.push({path:"/"})},encodeQueryData:function(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}}},Ge=Xe,Qe=Object(m["a"])(Ge,qe,Be,!1,null,null,null),et=Qe.exports,tt=function(e,t){var a=t._c;return a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{staticClass:"red darken-3 white--text subheading",attrs:{"primary-title":""}},[a("span",{staticClass:"title"},[t._v("Oops!")])]),a("v-card-text",[t._v("\n          Looks like you're in uncharted territory. We don't know about this page yet.\n          Luckily, we know the way back.\n        ")]),a("v-card-actions",[a("v-btn",{staticClass:"red darken-3 white--text",attrs:{flat:"",to:"/"}},[t._v("Back")])],1)],1)],1)],1)],1)},at=[],rt={},nt=Object(m["a"])(rt,tt,at,!0,null,null,null),st=nt.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],attrs:{"align-space-between":"","justify-center":"",row:"","fill-height":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[a("v-card",[a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:""}})],1)],1)],1),a("div",{ref:"table"})],1)],1)],1)},ot=[],lt=a("c1df");window.moment=lt;var ct=a("971e"),ut={name:"CourceLatest",watch:{$route:function(e,t){this.getLatestData()},tableData:{handler:function(e){this.table.replaceData(e)},deep:!0}},props:{msg:String},mounted:function(){var e=this;this.table=new te.a(this.$refs.table,{layout:"fitColumns",height:this.tableHeight(),reactiveData:!0,rowClick:function(t,a){e.$router.push("/viewer/contest/".concat(a.getData().contestId))},columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{formatter:"textarea",title:"Contest Name",minWidth:150,field:"contestName",headerSort:!1,resizable:!1},{formatter:"datetime",title:"Start Datetime",width:200,field:"startDateTime",headerSort:!1,resizable:!1,formatterParams:{inputFormat:"YYYY-MM-DDTHH:mm:ssZ",outputFormat:"YYYY/MM/DD HH:mm:ssZZ",invalidPlaceholder:"(invalid date)"}},{formatter:"datetime",title:"End Datetime",width:200,field:"endDateTime",headerSort:!1,resizable:!1,formatterParams:{inputFormat:"YYYY-MM-DDTHH:mm:ssZ",outputFormat:"YYYY/MM/DD HH:mm:ssZZ",invalidPlaceholder:"(invalid date)"}}]}),this.getLatestData()},data:function(){return{table:null,progress:!1,tableData:[]}},methods:{onResize:function(){this.table&&(this.table.setHeight(this.tableHeight()),this.table.redraw())},tableHeight:function(){return window.innerHeight-100+"px"},getMode:function(){return this.$route.params.mode},getLatestData:function(){this.progress=!0;this.getMode();var e=this;this.tableData=[];var t=ct.get("get_contests_100").split(",");f.a.config.update({accessKeyId:t[0],secretAccessKey:t[1]}),f.a.config.region="us-east-1";var a=new f.a.Lambda,r={FunctionName:"get_contests_100"};a.invoke(r,function(t,a){if(e.progress=!1,t);else{var r=JSON.parse(a.Payload.toString());"success"==r.message&&(e.tableData=r.contestDatas)}})}}},dt=ut,vt=Object(m["a"])(dt,it,ot,!1,null,null,null),ft=vt.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.snackbarText)+"\n  ")]),a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("search")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                            "+e._s(e.headerData.contestId)+"\n                          ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[e.headerData.password?a("v-icon",[e._v("lock")]):a("v-icon",[e._v("title")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                            "+e._s(e.headerData.contestName)+"\n                          ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("schedule")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                            "+e._s(e._f("moment")(e.headerData.startDateTime))+" - "+e._s(e._f("moment")(e.headerData.endDateTime))+"\n                          ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",{attrs:{flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-icon",[e._v("person")])],1),a("v-flex",{attrs:{xs10:""}},[e._v("\n                            "+e._s(e.headerData.createUserName)+"\n                          ")])],1)],1)],1),a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("social-sharing",{attrs:{url:e.getHref,title:"[MinIR Contest] "+e.headerData.contestName+"\n"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("network",{attrs:{network:"twitter"}},[a("v-btn",{attrs:{color:"#1b95e0"}},[a("v-icon",{attrs:{color:"white"}},[e._v("fab fa-twitter")]),a("span",{staticStyle:{color:"white"}},[e._v("tweet")])],1)],1)],1)},staticRenderFns:[]}})],1)],1)],1)],1)],1),e.headerData.description?a("v-flex",{attrs:{xs12:"","text-xs-left":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{domProps:{innerHTML:e._f("replaseURL")(e._f("nl2br")(e.headerData.description))}})])])],1)],1):e._e(),e.signedIn?a("v-flex",{attrs:{xs12:"","mb-2":""}},[a("v-card",[e.headerData.password?a("v-card-title",{attrs:{"primary-title":""}},[a("v-text-field",{ref:"password",attrs:{label:"Join Password","prepend-inner-icon":"lock",rules:[function(){return!!e.password||"This field is required"},function(){return e.enableJoinButton()||"Invalid password."}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):e._e(),e.getNowDate.isBefore(e.getEndDate)?a("v-btn",{attrs:{loading:e.joinContestLoading,disabled:!e.enableJoinButton()||e.joinContestLoading,color:"primary"},nativeOn:{click:function(t){return e.joinContest()}}},[e._v("Join Contest")]):e._e(),a("v-btn",{attrs:{loading:e.leaveContestLoading,disabled:e.leaveContestLoading,color:"error"},nativeOn:{click:function(t){return e.leaveContest()}}},[e._v("Leave Contest")])],1)],1):e._e()],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{ref:"songTable"})])],1)],1)],1)],1)],1),a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.progress,expression:"progress"}],attrs:{size:50,color:"primary",indeterminate:""}}),a("div",{ref:"table"})],1)],1)],1)],1)},gt=[],pt=a("c1df"),mt=a.n(pt),bt=a("c53e"),xt=a.n(bt);function wt(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,n)}function _t(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var s=e.apply(t,a);function i(e){wt(s,r,n,i,o,"next",e)}function o(e){wt(s,r,n,i,o,"throw",e)}i(void 0)})}}var yt=a("971e"),kt={name:"ContestDetail",filters:{moment:function(e){return e&&mt()(e).isValid()?mt()(e).format("YYYY/MM/DD HH:mm:ssZZ"):""},replaseURL:function(e){if("undefined"===typeof e||null===e)return"";var t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e.replace(t,"<a href='$1' target='_blank'>$1</a>")},nl2br:function(e){if("undefined"===typeof e||null===e)return"";var t="<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+t+"$2")}},watch:{$route:function(e,t){this.getContestData()},signedIn:function(){var e=_t(c.a.mark(function e(t,a){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.signedIn=t;case 1:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),contestScoreData:{handler:function(e){this.table.replaceData(e)},deep:!0},songData:{handler:function(e){this.songTable.replaceData(e)},deep:!0}},props:{signedIn:Boolean},mounted:function(){this.getContestData()},data:function(){return{snackbar:!1,snackbarText:"",table:null,songTable:null,progress:!1,contestScoreData:[],songData:[],headerData:{},joinContestLoading:!1,leaveContestLoading:!1,twitterUrl:"",password:""}},computed:{getNowDate:function(){return mt()()},getEndDate:function(){return mt()(this.headerData.endDateTime)},getHref:function(){return location.href}},methods:{getCurrentUser:function(){var e=_t(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k["Auth"].currentAuthenticatedUser();case 3:return t=e.sent,a={AccessToken:t.signInUserSession.accessToken.jwtToken,RefreshToken:t.signInUserSession.refreshToken.token,UserId:t.signInUserSession.idToken.payload.sub},console.log(a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),enableJoinButton:function(){if(!this.headerData.password)return!0;if(!this.password||""===this.password)return!1;var e=new xt.a("SHA-512","TEXT");e.update(this.password);var t=e.getHash("HEX");return this.headerData.password==t},getContestId:function(){return this.$route.params.contestId},createSongTable:function(){this.songTable=new te.a(this.$refs.songTable,{layout:"fitColumns",columns:[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{formatter:"textarea",title:"SongTitle",field:"title",minWidth:200,headerSort:!1,resizable:!1},{title:"IR Links",field:"songhash",width:80,formatter:function(e,t){var a=e.getValue();return'<a href="./#/viewer/song/'.concat(a,'/0">IR</a><br><a href="./#/viewer/song/').concat(a,'/1">IR(CN)</a><br><a href="./#/viewer/song/').concat(a,'/2">IR(HCN)</a>')},headerSort:!1,resizable:!1}]})},createTable:function(e,t){var a=[{formatter:"rownum",align:"center",width:40,headerSort:!1,resizable:!1},{title:"Name",field:"username",resizable:!1,minWidth:150,headerSort:!1,formatter:function(e,t){var a=e.getRow().getData(),r=a.userid;return'<a href="./#/viewer/user/'.concat(r,'">').concat(e.getValue(),"</a>")}}],r=0,n=!0,s=!1,i=void 0;try{for(var o,l=function(){var e=o.value,n=e.split(".")[0],s=e.split(".")[1],i=0==s?"LN or Default":1==s?"CN":"HCN",l=t.find(function(e){return e.songhash==n}),c={title:l.title+"<br>(LNMode: ".concat(i,")"),field:n+"-"+s,align:"left",formatter:"progress",formatterParams:{min:0,max:2*l.notes,legend:!0},headerSort:!1,minWidth:150,resizable:!1};r+=2*l.notes,a.push(c)},c=e.songs[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)l()}catch(u){s=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(s)throw i}}a.push({title:"Total Score",field:"total",align:"left",formatter:"progress",formatterParams:{min:0,max:r,color:"orange",legend:!0},headerSort:!1,minWidth:150,resizable:!1}),this.table=new te.a(this.$refs.table,{layout:"fitColumns",pagination:"local",paginationSize:30,columns:a})},getContestData:function(){this.progress=!0;var e=this.getContestId(),t=this,a=yt.get("get_contest").split(",");f.a.config.update({accessKeyId:a[0],secretAccessKey:a[1]}),f.a.config.region="us-east-1";var r=new f.a.Lambda,n={FunctionName:"get_contest",Payload:JSON.stringify({contestId:e})};r.invoke(n,function(e,a){if(t.progress=!1,!e){var r=JSON.parse(a.Payload.toString());"success"==r.message&&(t.createTable(r.contestData,r.contestSongDatas),t.contestScoreData=t.createScoreDataView(r.contestData,r.contestSongDatas,r.contestScoreDatas),t.createSongTable(),t.songData=r.contestSongDatas,t.headerData=r.contestData)}})},createScoreDataView:function(e,t,a){var r=[],n=!0,s=!1,i=void 0;try{for(var o,l=a[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value,u={};u.username=c.username,u.userid=c.userid;var d=0,v=!0,f=!1,h=void 0;try{for(var g,p=function(){var e=g.value,t=e.split(".")[0],a=e.split(".")[1],r=c.scores.find(function(t){return t.songhash==e});if(!r)return u[t+"-"+a]=0,"continue";u[t+"-"+a]=r.score,d+=r.score},m=e.songs[Symbol.iterator]();!(v=(g=m.next()).done);v=!0)p()}catch(b){f=!0,h=b}finally{try{v||null==m.return||m.return()}finally{if(f)throw h}}u.total=d,r.push(u)}}catch(b){s=!0,i=b}finally{try{n||null==l.return||l.return()}finally{if(s)throw i}}return r.sort(function(e,t){return t.total-e.total}),r},joinContest:function(){var e=_t(c.a.mark(function e(){var t,a,r,n,s;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.joinContestLoading=!0,e.next=3,this.getCurrentUser();case 3:t=e.sent,a=yt.get("join_contest").split(","),f.a.config.update({accessKeyId:a[0],secretAccessKey:a[1]}),f.a.config.region="us-east-1",r=new f.a.Lambda,n={FunctionName:"join_contest",Payload:JSON.stringify({AccessToken:t.AccessToken,RefreshToken:t.RefreshToken,contestId:this.getContestId()})},s=this,r.invoke(n,function(e,t){if(s.joinContestLoading=!1,e)return s.snackbarText="Failed to join Contest.",void(s.snackbar=!0);var a=JSON.parse(t.Payload.toString());return"success"==a.message?(s.snackbarText="Successfully join Contest.",void(s.snackbar=!0)):"join_limit"==a.message?(s.snackbarText="Join Limit. Please leave other Contest.",void(s.snackbar=!0)):(s.snackbarText="Failed to join Contest.",void(s.snackbar=!0))});case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),leaveContest:function(){var e=_t(c.a.mark(function e(){var t,a,r,n,s;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.leaveContestLoading=!0,e.next=3,this.getCurrentUser();case 3:t=e.sent,a=yt.get("leave_contest").split(","),f.a.config.update({accessKeyId:a[0],secretAccessKey:a[1]}),f.a.config.region="us-east-1",r=new f.a.Lambda,n={FunctionName:"leave_contest",Payload:JSON.stringify({AccessToken:t.AccessToken,RefreshToken:t.RefreshToken,contestId:this.getContestId()})},s=this,r.invoke(n,function(e,t){if(s.leaveContestLoading=!1,e)return s.snackbarText="Failed to leave Contest.",void(s.snackbar=!0);var a=JSON.parse(t.Payload.toString());return"success"==a.message?(s.snackbarText="Successfully leave Contest.",void(s.snackbar=!0)):(s.snackbarText="Failed to leave Contest.",void(s.snackbar=!0))});case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getTwitterUrl:function(){var e=encodeURIComponent(location.href),t=encodeURIComponent("MinIR contest - "+headerData.contestName+"-");this.twUrl="https://twitter.com/intent/tweet?text="+t+"&url="+e}}},Dt=kt,St=Object(m["a"])(Dt,ht,gt,!1,null,null,null),It=St.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\r\n      "+e._s(e.snackbarText)+"\r\n    ")]),a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{ref:"contestName",attrs:{rules:[function(){return!!e.contestName||"This field is required"},function(){return e.contestName.length<31||"30 characters or less."}],label:"Contest Name",required:"",hint:"At least 30 characters",counter:"30"},model:{value:e.contestName,callback:function(t){e.contestName=t},expression:"contestName"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{"auto-grow":"",box:"",label:"Description (Optional)"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{ref:"password",attrs:{label:"Contest Password (Optional)"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-flex",{attrs:{xs12:"",lg6:""}},[a("v-text-field",{attrs:{label:"Start DateTime",rules:[function(){return!!e.startDateTime||"This field is required"},function(){return e.validateDateTime()||"After than End DateTime."}],hint:"YYYY/MM/DD HH:mm:ssZZ",required:""},model:{value:e.startDateTime,callback:function(t){e.startDateTime=t},expression:"startDateTime"}})],1),a("v-flex",{attrs:{xs12:"",lg6:""}},[a("v-text-field",{attrs:{label:"End DateTime",rules:[function(){return!!e.endDateTime||"This field is required"},function(){return e.validateDateTime()||"Before than Start DateTime."},function(){return e.diffDateTime()||"It is up to one month."}],hint:"YYYY/MM/DD HH:mm:ssZZ",required:""},model:{value:e.endDateTime,callback:function(t){e.endDateTime=t},expression:"endDateTime"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{ref:"addTargetSonghash",attrs:{label:"Song Hash(sha256)","error-messages":e.errorMessages},scopedSlots:e._u([{key:"append-outer",fn:function(){return[a("v-select",{attrs:{items:e.lnmode,"item-text":"label","item-value":"value",label:"LNMODE","return-object":"",solo:""},model:{value:e.selectLnMode,callback:function(t){e.selectLnMode=t},expression:"selectLnMode"}}),a("v-btn",{attrs:{icon:"",ripple:"",loading:e.loading,disabled:e.loading},on:{click:function(t){return e.addSong()}}},[a("v-icon",{attrs:{color:"lighten-1"}},[e._v("playlist_add")])],1)]},proxy:!0}]),model:{value:e.addTargetSonghash,callback:function(t){e.addTargetSonghash=t},expression:"addTargetSonghash"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-list",{attrs:{"two-line":""}},[e._l(e.items,function(t,r){return[t.header?a("v-subheader",{key:t.header},[e._v("\r\n                "+e._s(t.header)+"\r\n              ")]):a("v-list-tile",{key:t.songhash+"."+t.lnmode,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("v-icon",[e._v("audiotrack")])],1),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.title)}}),a("v-list-tile-sub-title",[e._v(e._s(t.songhash)+" - "+e._s(e.lnmode[t.lnmode].label))])],1),a("v-list-tile-action",[a("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(t){return e.removeSong(r)}}},[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("clear")])],1)],1)],1)]})],2)],1),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",color:"success",disabled:e.enableSubmitButton()||e.loading},on:{click:function(t){return e.submit()}}},[e._v("Create Contest")])],1)],1)],1)],1)},jt=[];function Ct(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,n)}function Mt(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var s=e.apply(t,a);function i(e){Ct(s,r,n,i,o,"next",e)}function o(e){Ct(s,r,n,i,o,"throw",e)}i(void 0)})}}var Rt=a("971e"),Nt={name:"CreateContest",props:{signedIn:Boolean},watch:{signedIn:function(){var e=Mt(c.a.mark(function e(t,a){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.signedIn=t;case 1:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},data:function(){return{snackbar:!1,snackbarText:"",loading:!1,errorMessages:"",contestName:"",description:"",password:"",startDateTime:mt()().format("YYYY/MM/DD HH:mm:ssZZ"),endDateTime:mt()().add(1,"day").format("YYYY/MM/DD HH:mm:ssZZ"),addTargetSonghash:null,items:[{header:"Songs"}],lnmode:[{label:"LN or Default",value:0},{label:"CN",value:1},{label:"HCN",value:2}],selectLnMode:{label:"LN or Default",value:0}}},methods:{getCurrentUser:function(){var e=Mt(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k["Auth"].currentAuthenticatedUser();case 3:return t=e.sent,a={AccessToken:t.signInUserSession.accessToken.jwtToken,RefreshToken:t.signInUserSession.refreshToken.token,UserId:t.signInUserSession.idToken.payload.sub},console.log(a),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),enableSubmitButton:function(){return this.contestName.length>30||this.contestName.length<1||!this.startDateTime||(this.items.length<2||(!this.validateDateTime()||!this.diffDateTime()))},validateDateTime:function(){if(!mt()(this.startDateTime,"YYYY/MM/DD HH:mm:ssZZ").isValid()||!mt()(this.endDateTime,"YYYY/MM/DD HH:mm:ssZZ").isValid())return!1;var e=mt()(this.startDateTime,"YYYY/MM/DD HH:mm:ssZZ"),t=this.endDateTime?mt()(this.endDateTime,"YYYY/MM/DD HH:mm:ssZZ"):null;return!t||!e.isAfter(t)},diffDateTime:function(){if(!this.startDateTime)return!1;var e=mt()(this.startDateTime,"YYYY/MM/DD HH:mm:ssZZ"),t=this.endDateTime?mt()(this.endDateTime,"YYYY/MM/DD HH:mm:ssZZ"):null;return!(t&&t.diff(e,"months")>1)},submit:function(){var e=Mt(c.a.mark(function e(){var t,a,r,n,s,i,o,l,u,d,v,h,g,p,m,b,x,w;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getCurrentUser();case 3:t=e.sent,a=this.contestName,r=this.description?this.description:null,n=null,this.password&&(s=new xt.a("SHA-512","TEXT"),s.update(this.password),n=s.getHash("HEX")),i=mt()(this.startDateTime,"YYYY/MM/DD HH:mm:ssZZ"),o=mt()(this.endDateTime,"YYYY/MM/DD HH:mm:ssZZ"),l=[],u=!0,d=!1,v=void 0,e.prev=14,h=this.items[Symbol.iterator]();case 16:if(u=(g=h.next()).done){e.next=24;break}if(p=g.value,p.songhash){e.next=20;break}return e.abrupt("continue",21);case 20:l.push(p.songhash+"."+p.lnmode);case 21:u=!0,e.next=16;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e["catch"](14),d=!0,v=e.t0;case 30:e.prev=30,e.prev=31,u||null==h.return||h.return();case 33:if(e.prev=33,!d){e.next=36;break}throw v;case 36:return e.finish(33);case 37:return e.finish(30);case 38:m=Rt.get("create_contest").split(","),f.a.config.update({accessKeyId:m[0],secretAccessKey:m[1]}),f.a.config.region="us-east-1",b=new f.a.Lambda,x={FunctionName:"create_contest",Payload:JSON.stringify({AccessToken:t.AccessToken,RefreshToken:t.RefreshToken,contestName:a,description:r||null,password:n||null,startDateTime:i,endDateTime:o,songs:l})},w=this,b.invoke(x,function(e,t){e&&(w.snackbarText="Failed to create Contest.",w.snackbar=!0);var a=JSON.parse(t.Payload.toString());w.$router.push("/viewer/contest/".concat(a.contestId))});case 45:case"end":return e.stop()}},e,this,[[14,26,30,38],[31,,33,37]])}));function t(){return e.apply(this,arguments)}return t}(),addSong:function(){this.loading=!0;var e=this.addTargetSonghash,t=this.selectLnMode.value,a=this.items.find(function(a){return a.songhash&&a.songhash==e&&a.lnmode==t});if(a)this.loading=!1;else{var r=this,n=Rt.get("get_song_data").split(",");f.a.config.update({accessKeyId:n[0],secretAccessKey:n[1]}),f.a.config.region="us-east-1";var s=new f.a.Lambda,i={FunctionName:"get_song_data",Payload:JSON.stringify({songhash:e+"."+t})};s.invoke(i,function(e,a){if(r.loading=!1,!e){var n=JSON.parse(a.Payload.toString());if(!n.message)return void(r.errorMessages="Song not found");"success"==n.message&&(n.SongData.lnmode=t,r.items.push(n.SongData),r.addTargetSonghash="")}})}},removeSong:function(e){this.items.splice(e,1)}}},Ut=Nt,Pt=Object(m["a"])(Ut,Tt,jt,!1,null,null,null),At=Pt.exports,Lt=[{path:"/",component:H},{path:"/about",component:$},{path:"/privacy",component:X},{path:"/search",component:ie},{path:"/viewer/latest/:mode",component:fe},{path:"/viewer/cource-latest",component:we},{path:"/viewer/song/:songhash/:lnmode",component:Re},{path:"/viewer/cource/:courcehash/:lnmode",component:Ee},{path:"/viewer/user/:userid",component:Ze},{path:"/viewer/contest-latest",component:ft},{path:"/viewer/contest/:contestId",component:It},{path:"/viewer/contest-create",component:At},{path:"/oauth/:serviceName/:serviceToken",component:et},{path:"*",component:st}],Ot=a("8c4f"),Et=a("f6dd"),Yt=a("00e7"),zt=a.n(Yt),Ht=a("5299"),Vt=a.n(Ht),Ft=a("0284"),Kt=a.n(Ft);a("15f5");r["default"].use(Ot["a"]);var Jt=new Ot["a"]({routes:Lt});r["default"].use(Et["a"]),r["default"].use(zt.a),r["default"].use(Vt.a),r["default"].use(Kt.a,{id:"UA-83617244-2",router:Jt}),r["default"].config.productionTip=!1,D.a.configure({Auth:{identityPoolId:"us-east-1:2fd56666-2b4f-4aa2-a6c7-05f656731913",region:"us-east-1",userPoolId:"us-east-1_eKnHXAoPk",userPoolWebClientId:"6ajj9dvmultkvu5kdtbngokq3h"},Analytics:{disabled:!0}}),r["default"].use(y["AmplifyPlugin"],k),new r["default"]({render:function(e){return e(P)},router:Jt}).$mount("#app")},"753d":function(e,t,a){"use strict";var r=a("c452"),n=a.n(r);n.a},"89b6":function(e,t,a){"use strict";var r=a("d4e2"),n=a.n(r);n.a},"971e":function(e,t,a){var r=a("3452"),n={get_contest:"U2FsdGVkX1/LRV+ctdAhwX9rOY6WQ/N2eiebDDveiigNNxpTOLxOeAIPlWhCHG1m0ZEClJHCDlPeDgA28PA2bf2HPdq3Z/y2vMU4lBvsCwU=",join_contest:"U2FsdGVkX1+8/3b9t2KGYOP4kn8tYpdRks5UDbhvxIFHR/w7JxRPYsCv3K38izfhOA331Lnt7OgpD5V77F4lu8A1ZLnUjiMpGMOInXsIMUg=",leave_contest:"U2FsdGVkX1/D4N9ZqfnjvJH8U6ZSr9i9EDrXk42ws17I2w6u1eWXADVeIxU2/2D6Wg0o8i8RIvMakrBwjzBP8STXBQ8SQOWqlqQXXpimNis=",get_contests_100:"U2FsdGVkX1+fChPXPdlOAqpcsu1BXHC+2e5zHjMpxOILpQ1IpefIBTNhtX0qWatX8TJHtihf60e3hNp7w9soYAsBZywlnK4sqHpXmhxAvDU=",get_cource_played_100:"U2FsdGVkX1/JDkz8UkTbbcBUHre/FzPUOYVprUoEpxORQqzEAainl9y3rdP1b5NDyuvWxaxt3+B7PzR95pEKSp+c5daA0hCpWTANhXsDbBk=",create_contest:"U2FsdGVkX19m8KScn/xiTW7mZClb01eVHlVQj2QWZ2Mj//+g2Y22WOqWVfBCQTt/AV9BwVp6kJMAWFg0IBP2PFC2Y71xgnkJU5YfeUC+wZw=",get_song_data:"U2FsdGVkX1/R4aFmkx/lKi6vFeZDSQn7E/qcNCNn3944XMlPAh9j1tKgkH002ckM+xKOaF/+7UBc23nZbzmfn0MfdYVSx5BKtgtk8BGIrDY=",auth_service:"U2FsdGVkX1/QWpI6QrzhXLGfRX8sPydATkSbVUhcQedCA6gDxg1170fNv8BJyemnFGokJln0u6h1NNHJ+RoI/7TDDM+X9ftuVMOUCAshxs0=",get_cource_data:"U2FsdGVkX1+d4fUSlknFqBJbM4XNAK04WMSJXLUe0rGvXCaXk+Fo6EdMjUtbCJFDlZS+YWQ4bHBfADFm5+Fp9cN9YRzDKZ6RROKdPgiESis=",get_played_100:"U2FsdGVkX1+YVBf8zH0fYNhjzaa/N5Zd/jDoyy0+NItuyeRxDnD4wU4vlMQQwhOVTgJW/LmENScOdlLbJGfDP7E6WHKMtan7UIF2Z+3bBcU=",search_song_data:"U2FsdGVkX1+kDo2ZnYolIjmoZRtqOqhF4KGi3PkO621LkJ5OtnbwJne6c/uPUZgQPWUgODBR4z54E4e7kQQmi5l/6+rd8/kvlTbFiahJ6eY=",sign_up:"U2FsdGVkX1+PbRLqxfrvdihxI03fx7Yij6yl9LEc0aIpJPHuXGnKX71lCWBEnjIJXT3osj0AA2wQGvHFt1YagxtgVh5IcVdwnTqt7cBY96M=",get_user_data:"U2FsdGVkX1+qlDrCpvJlfqL5sso14z7i8OUSTW3K+DrtfFTr+e+fs57UbcCtTbCSJwSED6+fIYxn2rtlbYED1O1DoJjWfKCgxTQsaGmJ6Cc=",get_user_data_login:"U2FsdGVkX185fM5IVkyI1B5NlIzijjJ6wcsBMds6JutUOL9HR1qqYKivqub1PeSpIJid8bISxblm3NDT2VEngAItkl261hs80NHKl0pC2rI=",update_user_data:"U2FsdGVkX19a1e1Al1LpQAUPvZSxVP6UpfMCJ3OVS/5tN0+5C9OtJer+4NEyDNbFo7BRjCpvWsdc901Bdkw8lSiWUnyx/8XK1HFvfxxLmOg=",add_rival:"U2FsdGVkX1+8h3XMoz68BTTKeTauXh13cAB4WRvqV6vsyl/zoRAieq/ffdVDc6snLde6yY2omA2YqgDpDRjzN5XRCYQcB2aPuH2p6WOT4yg=",remove_rival:"U2FsdGVkX19ptK/BOqN0VTS2Jb42UGS6NjaSpmEd24ibn8TNM+HKJkJ3DhcxNiMLxhTYLiFc43m/5YaPxsHWJ94rZKbS5h0IZ/EIdKnSD1o=",update_song_data:"U2FsdGVkX1+nt1SysJP58CW/05ySx/vr3Wp+mh/KLrOtrxQVhs9o/FYfyBdPsRVV1gBYzZwRYlCnJIzYyGQmDwIUNOcQcuWNV1zXYx9VmG4="};function s(e){var t=n[e],a=r.AES.decrypt(t,"600c1113583268dd241ec91f221f2bf6cfcb8f83bb5d27b5a35390996035749a"),s=a.toString(r.enc.Utf8);return s}t.get=s},"979f":function(e,t,a){},a4c7:function(e,t,a){"use strict";var r=a("2e7a"),n=a.n(r);n.a},bdd6:function(e){e.exports=[{date:"2019/08/22",icon:"warning",text:"MinIR API を更新しました。 現状、`beatoraja0.7.2以降 + 本API` 以外の組み合わせによるアクセスはブロックされます。"},{date:"2019/06/30",icon:"info",text:"コンテスト機能を拡張しました。（コンテスト概要、参加時のパスワード機能）"},{date:"2019/05/03",icon:"info",text:"コンテスト機能を開放しました。"},{date:"2019/03/30",icon:"info",text:"スマートフォンでの表示崩れを修正しました。"},{date:"2018/12/02",icon:"info",text:"MinIR APIが更新されました。容量の削減のみですので、既存のAPIはそのまま利用できます。"},{date:"2018/11/16",icon:"info",text:"外部サービス連携を追加しました。1つ目のサービスとして、Stella＆Satellite難易度表が連携しました。"},{date:"2018/09/15",icon:"info",text:"Webページレイアウトを更新しました。"},{date:"2018/09/08",icon:"warning",text:"beatoraja 0.6.3のリリースに伴い MinIR APIが更新されました。旧APIではスコアの送信ができなくなりましたのでご注意ください。"}]},c452:function(e,t,a){},d4e2:function(e,t,a){}});
//# sourceMappingURL=app.d375409d.js.map